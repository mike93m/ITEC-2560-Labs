/*!
  * mande v2.0.8
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */
"use strict";let e=/^\/+/;const t={responseAs:"json",headers:{Accept:"application/json"},stringify:JSON.stringify};exports.defaults=t,exports.mande=function(n,s={},o){function r(s,r,a,c={}){let l,u;"object"==typeof r?(l="",c=a||r||{},u=r):(l=r,u=a);let p=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),i),{method:s}),c),{headers:(f=Object.assign(Object.assign(Object.assign({"Content-Type":u instanceof FormData?null:"application/json"},t.headers),i.headers),c.headers),Object.keys(f).reduce(((e,t)=>(null!=f[t]&&(e[t]=f[t]),e)),{}))});var f;let b=Object.assign(Object.assign(Object.assign({},t.query),i.query),c.query),{responseAs:d}=p;l=function(t,n){return t+(n&&(t.endsWith("/")?n.replace(e,""):n.startsWith("/")?n:"/"+n))}(n,"number"==typeof l?""+l:l||""),l+=function(e){let t=Object.keys(e).map((t=>[t,e[t]].map(encodeURIComponent).join("="))).join("&");return t?"?"+t:""}(b),"P"===s[0]&&u&&!p.body&&(p.body=u instanceof FormData?u:p.stringify(u));const j="undefined"!=typeof fetch?fetch:o;if(!j)throw new Error("No fetch function exists. Make sure to include a polyfill on Node.js.");return j(l,p).then((e=>Promise.all([e,"response"===d?e:e[d]().catch((()=>null))]))).then((([e,t])=>{if(e.status>=200&&e.status<300)return"response"!==d&&204==e.status?null:t;let n=new Error(e.statusText);throw n.response=e,n.body=t,n}))}const i=Object.assign({query:{},headers:{}},s);return{options:i,post:r.bind(null,"POST"),put:r.bind(null,"PUT"),patch:r.bind(null,"PATCH"),get:(e,t)=>r("GET",e,null,t),delete:(e,t)=>r("DELETE",e,null,t)}},exports.nuxtWrap=function(e,t){const n=t.length;return function(){let s=e,o=Array.from(arguments);if(arguments.length===n){s=Object.assign({},e);const[t]=o.splice(0,1);t(s)}return t.call(null,s,...o)}};
